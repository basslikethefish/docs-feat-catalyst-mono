---
title: "MakeswiftApiHandler"
description: A catch-all API route for Makeswift to send revalidation requests and other Next.js specific features.
---

import FontsExample from '/snippets/examples/fonts.mdx'

## Arguments

1. <ParamField query="apiKey" type="string" required>
     The API key for the Makeswift site.
   </ParamField>
2. <ParamField query="options" type="object">
     Options for site version and locale.
     <Expandable>
       <ParamField query="getFonts" type="() => FontFamily[]">
        This function is called when the builder requests the list of fonts available for the site. The function should return an array of `FontFamily` objects.

        ```ts
        type FontFamily {
          family: string
          variants: {
            weight: string
            style: "normal" | "italic"
            src?: string
          }[]
        }
        ```

        The `src` field is used to preview the font in the builder. The `src` field can be either a relative or absolute URL. If the `src` field is omitted the font will still be selectable but will use a fallback font in the builder.
       </ParamField>
     </Expandable>
   </ParamField>

## Examples

### Basic usage

```ts pages/api/[...makeswift].ts
import { MakeswiftApiHandler } from "@makeswift/runtime/next"
import { strict } from "assert"

strict(process.env.MAKESWIFT_SITE_API_KEY, "MAKESWIFT_SITE_API_KEY is required")

export default MakeswiftApiHandler(process.env.MAKESWIFT_SITE_API_KEY)
```

### Adding fonts

The following example adds Spline Sans and Spline Sans Mono fonts to the site using `next/font` and adds them to the `MakeswiftApiHandler`. A variable is font is used to reduce the number of font files requested.

<FontsExample />
