---
title: Combobox
description: Adds a Combobox panel in the Makeswift builder to visually edit a generic `T` prop from a potentially asynchronously fetched list of options.
---

<Frame type="glass" caption="">
  <img src="/images/combobox-panel.png" />
</Frame>

## Params

<ParamField query="label" type="string" default="Text">
  Text for the Combobox label. The label appears in the panel in the Makeswift
  builder.
</ParamField>

<ParamField
  query="getOptions"
  type="<T>(query: string) => Option<T>[] | Promise<Option<T>[]>"
  required
>
  A function that receives a query string and returns an array of type `Option<T>`. This function may be async to fetch options asynchronously.

```ts
type Option<T> = {
  id: string
  label: string
  value: T
}
```

The `label` field is displayed in the Makeswift builder and `id` must be unique.

</ParamField>

## Prop type

The Combobox control passes the generic type `T` from the return value of `getOptions` to your component, or `undefined` if there is no value set in the builder.

## Example

```jsx /components/ProductsCarousel/ProductsCarousel.makeswift.js
import { Combobox } from "@makeswift/runtime/controls"
import { runtime } from "@/lib/makeswift/runtime"

import { ProductsCarousel } from "./ProductsCarousel"

runtime.registerComponent(ProductsCarousel, {
  type: "products-carousel",
  label: "Products Carousel",
  props: {
    products: Combobox({
      label: "Product name",
      async getOptions(query) {
        const response = await fetch("/api/products")
        const products = await response.json()

        return products
          .map((product) => ({
            id: product.id,
            label: product.name,
            value: product,
          }))
          .filter((option) =>
            option.label.toLowerCase().includes(query.toLowerCase())
          )
      },
    }),
  },
})
```
